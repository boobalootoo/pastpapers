<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GitHub Repository PDFs</title>
    <style>
      body {
        font-family: sans-serif;
        padding: 20px;
      }
      #pdf-list {
        list-style-type: none;
        padding: 0;
        margin: 20px 0;
      }
      #pdf-list li {
        margin-bottom: 10px;
      }
      #pdf-list li a {
        color: #0366d6;
        text-decoration: none;
      }
      #pdf-list li a:hover {
        text-decoration: underline;
      }
      .loading {
        color: #666;
      }
      .error {
        color: #ff0000;
        font-weight: bold;
      }
      .pdf-icon {
        display: inline-block;
        width: 16px;
        height: 16px;
        margin-right: 5px;
        vertical-align: middle;
        background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='currentColor' d='M20 2H8C7.175 2 6.5 2.675 6.5 3.5V17c0 .825.675 1.5 1.5 1.5h12c.825 0 1.5-.675 1.5-1.5V5c0-1.1-.9-2-2-2zm0 13h-12V10h12v5zm0-7H8V3.5c0-.276.224-.5.5-.5h11c.276 0 .5.224.5.5V8zM4 6h1.5v1.5H4V6zm0 2.5h1.5v1.5H4V8.5zm0 2.5h1.5v1.5H4v-1.5z'%3E%3C/path%3E%3C/svg%3E");
      }
    </style>
</head>
<body>
    <h1>PDF Files in Repository</h1>
    <ul id="pdf-list" class="loading">Loading PDF files...</ul>
    <script>
      const repoOwner = "your-username"; // Replace with your GitHub username
      const repoName = "your-repo-name";    // Replace with your repository name
      const pdfList = document.getElementById("pdf-list");

      // Function to fetch files from the GitHub API
      async function getRepoFiles() {
          try {
              const response = await fetch(`https://api.github.com/repos/${repoOwner}/${repoName}/contents`);
              if (!response.ok) {
                  throw new Error(`GitHub API error: ${response.status}`);
              }
              const data = await response.json();
              return data;
          } catch (error) {
              pdfList.className = "error";
              pdfList.textContent = `Error: ${error.message}`;
              console.error("Error fetching repository files:", error);
              return []; // Return an empty array to avoid further errors
          }
      }

      // Function to display the PDF files
      async function displayPdfFiles() {
          const files = await getRepoFiles();
          pdfList.className = ""; // Remove "loading" class
          pdfList.textContent = ""; // Clear "Loading..." text

          const pdfFiles = files.filter(file => file.name.toLowerCase().endsWith(".pdf"));

          if (pdfFiles.length === 0) {
              pdfList.textContent = "No PDF files found in this repository.";
              return;
          }

          pdfFiles.forEach(file => {
              const listItem = document.createElement("li");
              const link = document.createElement("a");
              link.href = file.html_url;  // Use html_url for direct link to file on GitHub
              link.target = "_blank"; // Open in new tab
              link.innerHTML = `<span class="pdf-icon"></span>${file.name}`;
              listItem.appendChild(link);
              pdfList.appendChild(listItem);
          });
      }

      // Call the function to display the PDF files when the page loads
      displayPdfFiles();
    </script>
</body>
</html>
